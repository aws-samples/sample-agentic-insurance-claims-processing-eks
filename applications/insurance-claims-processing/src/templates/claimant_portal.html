<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claimant Portal - Insurance Claims</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="container navbar-content">
            <div class="brand">
                <span>üõ°Ô∏è</span> Agentic Insurance
            </div>
            <a href="/" class="btn btn-secondary">‚Üê Back to Home</a>
        </div>
    </nav>

    <div class="main-content container">
        <div class="text-center" style="margin-bottom: 3rem;">
            <h1>Claimant Portal</h1>
            <p class="text-muted" style="font-size: 1.2rem;">Fast, AI-Powered Claims Processing</p>
        </div>

        {% if policy %}
        <div class="card animate-fade-in">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h2>Welcome, {{ policy.get('first_name', 'Valued Customer') }}!</h2>
                <span class="badge badge-success">Policy Verified</span>
            </div>
            
            <div class="dashboard-grid">
                <div class="form-group">
                    <span class="form-label text-muted">Policy Number</span>
                    <div style="font-weight: 600; font-size: 1.1rem;">{{ policy_number }}</div>
                </div>
                <div class="form-group">
                    <span class="form-label text-muted">Coverage Type</span>
                    <div style="font-weight: 600; font-size: 1.1rem;">{{ policy.get('line_of_business', 'N/A') }}</div>
                </div>
                <div class="form-group">
                    <span class="form-label text-muted">Status</span>
                    <div style="font-weight: 600; font-size: 1.1rem;">{{ policy.get('policy_status', 'Active') }}</div>
                </div>
                <div class="form-group">
                    <span class="form-label text-muted">Effective Date</span>
                    <div style="font-weight: 600; font-size: 1.1rem;">{{ policy.get('policy_effective_date', 'N/A') }}</div>
                </div>
            </div>
        </div>

        <div class="card animate-fade-in delay-100" id="file-claim">
            <div style="border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h2>üìù File a New Claim</h2>
                <p class="text-muted">Our AI agents will analyze your claim in real-time.</p>
            </div>

            <form action="/claimant/submit-claim" method="post">
                <input type="hidden" name="policy_number" value="{{ policy_number }}">

                <div class="dashboard-grid">
                    <div class="form-group">
                        <label class="form-label" for="claimant_first_name">First Name *</label>
                        <input type="text" class="form-control" id="claimant_first_name" name="claimant_first_name"
                               value="{{ policy.get('first_name', '') }}" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="claimant_last_name">Last Name *</label>
                        <input type="text" class="form-control" id="claimant_last_name" name="claimant_last_name"
                               value="{{ policy.get('last_name', '') }}" required>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="form-group">
                        <label class="form-label" for="claimant_email">Email *</label>
                        <input type="email" class="form-control" id="claimant_email" name="claimant_email"
                               value="{{ policy.get('email', '') }}" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="claimant_phone">Phone Number</label>
                        <input type="tel" class="form-control" id="claimant_phone" name="claimant_phone"
                               value="{{ policy.get('phone_number', '') }}">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="claim_type">Type of Claim *</label>
                    <select class="form-control" id="claim_type" name="claim_type" required>
                        <option value="">-- Select Claim Type --</option>
                        <option value="Collision">Collision (Vehicle Impact)</option>
                        <option value="Comprehensive">Comprehensive (Non-Collision)</option>
                        <option value="Liability">Liability (Other Party Damage)</option>
                        <option value="Property Damage">Property Damage</option>
                        <option value="Bodily Injury">Bodily Injury</option>
                        <option value="Theft">Theft</option>
                        <option value="Vandalism">Vandalism</option>
                        <option value="Fire">Fire Damage</option>
                        <option value="Weather Damage">Weather Damage</option>
                    </select>
                </div>

                <div class="dashboard-grid">
                    <div class="form-group">
                        <label class="form-label" for="incident_date">Date of Incident *</label>
                        <input type="date" class="form-control" id="incident_date" name="incident_date"
                               max="{{ today }}" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="incident_time">Time of Incident</label>
                        <input type="time" class="form-control" id="incident_time" name="incident_time">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="loss_location">Location of Incident *</label>
                    <input type="text" class="form-control" id="loss_location" name="loss_location"
                           placeholder="Street address or description" required>
                </div>

                <div class="dashboard-grid">
                    <div class="form-group">
                        <label class="form-label" for="loss_city">City</label>
                        <input type="text" class="form-control" id="loss_city" name="loss_city">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="loss_state">State</label>
                        <input type="text" class="form-control" id="loss_state" name="loss_state"
                               value="{{ policy.get('state', '') }}">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="loss_zip">ZIP Code</label>
                        <input type="text" class="form-control" id="loss_zip" name="loss_zip" pattern="[0-9]{5}">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="claim_amount">Estimated Claim Amount ($) *</label>
                    <input type="number" class="form-control" id="claim_amount" name="claim_amount"
                           min="0" step="0.01" required placeholder="0.00">
                </div>

                <div class="form-group">
                    <label class="form-label" for="description">Detailed Description of Incident *</label>
                    <textarea class="form-control" id="description" name="description" required rows="5"
                              placeholder="Please provide a detailed description of what happened..."></textarea>
                </div>

                <div class="card" style="background: #f0f9ff; border-color: #bae6fd;">
                    <div style="display: flex; gap: 1rem;">
                        <div style="font-size: 1.5rem;">‚ÑπÔ∏è</div>
                        <div>
                            <h4 style="margin-bottom: 0.5rem; color: #0369a1;">AI-Powered Processing</h4>
                            <p style="color: #0c4a6e; font-size: 0.95rem;">
                                Once you submit, our multi-agent system (Fraud, Policy, Risk) will instantly analyze your claim.
                                You'll receive real-time updates on the status.
                            </p>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem; font-size: 1.1rem;">
                    Submit Claim for AI Analysis
                </button>
            </form>
        </div>

        {% else %}
        <div class="card animate-fade-in" style="max-width: 600px; margin: 0 auto;">
            <div class="text-center" style="margin-bottom: 2rem;">
                <h2>Access Your Account</h2>
                <p class="text-muted">Enter your policy number to verify coverage</p>
            </div>
            
            <form action="/claimant/login" method="post">
                <div class="form-group">
                    <label class="form-label" for="policy_number">Policy Number</label>
                    <input type="text" class="form-control" id="policy_number" name="policy_number"
                           placeholder="e.g., POL-123456789" required style="font-size: 1.2rem; text-align: center;">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Continue</button>
            </form>
        </div>
        {% endif %}

        <div class="text-center text-muted" style="margin-top: 4rem;">
            <p>&copy; 2025 AI-Powered Insurance Claims Processing</p>
        </div>
    </div>

    <script src="/static/js/main.js"></script>
</body>
</html>
